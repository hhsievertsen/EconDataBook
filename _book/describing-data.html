<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 12 Describing Data | Introduction to Economic Data</title>
<meta name="author" content="Hans Henrik Sievertsen">
<meta name="generator" content="bookdown 0.29 with bs4_book()">
<meta property="og:title" content="Chapter 12 Describing Data | Introduction to Economic Data">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 12 Describing Data | Introduction to Economic Data">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><link href="libs/_Sen-0.4.1/font.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=DM%20Mono&amp;display=swap" rel="stylesheet">
<link href="libs/_Bitter-0.4.1/font.css" rel="stylesheet">
<script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script>
        $(function() {
            $("#toc").html(" ");
             $(".chapter-nav").remove();
             $(".algolia-autocomplete").remove();
             $( "h2:contains('Table of contents')" ).html(" ");
             
        });
            

    </script><style>
      h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
        font-weight: 1000;
    }
    div.myblock {
     border: 2px solid #043606;
     padding: 10px;
     border-radius: 25px;
     color: #2e4259;
     width:80%;
     text-align: justify;
    }

    .header-section-number {
        color: #212529; 
           font-weight: 1000;
    }
    </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<meta name="description" content="12.1 What this chapter is about Now that we have shown the data, we also need to be able to be able to describe the data. In this chapter we will discuss a number of tools and concepts that are...">
<meta property="og:description" content="12.1 What this chapter is about Now that we have shown the data, we also need to be able to be able to describe the data. In this chapter we will discuss a number of tools and concepts that are...">
<meta name="twitter:description" content="12.1 What this chapter is about Now that we have shown the data, we also need to be able to be able to describe the data. In this chapter we will discuss a number of tools and concepts that are...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Introduction to Economic Data</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="" href="part-i-working-with-economic-data.html">Part I: Working with Economic Data</a></li>
<li><a class="" href="po.html"><span class="header-section-number">2</span> People</a></li>
<li><a class="" href="the-labour-market.html"><span class="header-section-number">3</span> The labour market</a></li>
<li><a class="" href="activity.html"><span class="header-section-number">4</span> Economic Activity</a></li>
<li><a class="" href="wellbeing.html"><span class="header-section-number">5</span> Wellbeing</a></li>
<li><a class="" href="inequality.html"><span class="header-section-number">6</span> Inequality</a></li>
<li><a class="" href="poverty.html"><span class="header-section-number">7</span> Poverty</a></li>
<li><a class="" href="prices.html"><span class="header-section-number">8</span> Prices</a></li>
<li><a class="" href="money.html"><span class="header-section-number">9</span> Money</a></li>
<li><a class="" href="part-ii-data-sources-and-tools.html">Part II: Data sources and tools</a></li>
<li><a class="" href="where-data-comes-from.html"><span class="header-section-number">10</span> Where data comes from</a></li>
<li><a class="" href="how-data-is-stored.html"><span class="header-section-number">11</span> How data is stored</a></li>
<li><a class="active" href="describing-data.html"><span class="header-section-number">12</span> Describing Data</a></li>
<li><a class="" href="data-visualization-basics.html"><span class="header-section-number">13</span> Data visualization basics</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="describing-data" class="section level1" number="12">
<h1>
<span class="header-section-number">12</span> Describing Data<a class="anchor" aria-label="anchor" href="#describing-data"><i class="fas fa-link"></i></a>
</h1>
<div id="what-this-chapter-is-about-8" class="section level2" number="12.1">
<h2>
<span class="header-section-number">12.1</span> What this chapter is about<a class="anchor" aria-label="anchor" href="#what-this-chapter-is-about-8"><i class="fas fa-link"></i></a>
</h2>
<p>Now that we have shown the data, we also need to be able to be able to describe the data. In this chapter we will discuss a number of tools and concepts that are useful when describing changes. We will first go through concepts to describe changes. We will then go through a method for decomposing changes, and finally we will address the issue of removing noise from time series.</p>
<div id="intended-learning-outcomes-8" class="section level3 unnumbered">
<h3>Intended learning outcomes<a class="anchor" aria-label="anchor" href="#intended-learning-outcomes-8"><i class="fas fa-link"></i></a>
</h3>
<p>After reading this chapter you should be able to.</p>
<ol style="list-style-type: decimal">
<li>describe differences across time and groups using indexes, relative changes, and average growth rates.</li>
<li>decompose changes in variables in changes in their underlying variables.</li>
<li>apply moving averages and understand the intuition behind seasonal adjustments.</li>
</ol>
</div>
</div>
<div id="the-objective-guide-the-reader" class="section level2" number="12.2">
<h2>
<span class="header-section-number">12.2</span> The objective: Guide the reader<a class="anchor" aria-label="anchor" href="#the-objective-guide-the-reader"><i class="fas fa-link"></i></a>
</h2>
<div id="support-charts-and-tables" class="section level4 unnumbered">
<h4>Support charts and tables<a class="anchor" aria-label="anchor" href="#support-charts-and-tables"><i class="fas fa-link"></i></a>
</h4>
<p>Charts and tables should always be supported by a guide for the reader. Nevertheless, it is not uncommon that newspaper articles include a graph without any reference to the message the reader should take away from this graph. In many cases, the title of the graph or table (also called the caption) can be sufficient to guide the reader. For the author of the article or the policy report it often seems obvious why a specific graph or table is included. But in practice, only a few (very good) charts and tables tell the story without support.</p>
<p>Consider as an example Figure <a href="describing-data.html#fig:desc1">12.1</a>. Without any further guidance, there are many takeaways the reader could get from this graph. Let us consider a few</p>
<ul>
<li>The unemployment rate continues to fall.</li>
<li>The unemployment rate was highest in the mid 1980ies.</li>
<li>The unemployment rate is at its lowest level 1970ies.</li>
<li>The unemployment rate is below the pre Great Recession Levels.</li>
<li>The decline in the unemployment rate is starting to flatten out.</li>
</ul>
<p>All of these conclusions are perfectly right, but without any further guidance, the reader will have to guess what the main message of the graph should be. This could be in terms of a title, but it is can often be much more.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:desc1"></span>
<img src="resources/chapter_describe/ex.png" alt="Unemployment in the UK. Source: The UK Office for National Statistics" width="80%"><p class="caption">
Figure 12.1: Unemployment in the UK. Source: The UK Office for National Statistics
</p>
</div>
</div>
<div id="how-to-guide-the-reader" class="section level3 unnumbered">
<h3>How to guide the reader<a class="anchor" aria-label="anchor" href="#how-to-guide-the-reader"><i class="fas fa-link"></i></a>
</h3>
<p>When guiding the reader, we should help the reader. Helping the reader means that our description should make it easier for the reader to identify and remember the main takeaways from the visualization. This means that we should leave out unimportant details and focus on the main point. Let us consider two examples of descriptions of Figure <a href="describing-data.html#fig:desc1">12.1</a>.</p>
<div id="example-1" class="section level4 unnumbered">
<h4>Example 1<a class="anchor" aria-label="anchor" href="#example-1"><i class="fas fa-link"></i></a>
</h4>
<blockquote>
<p>Figure <a href="describing-data.html#fig:desc1">12.1</a> shows the unemployment rate for the UK for the period 1971 to 2018. In 1971 the unemployment rate was about 4 percent. It then increased slightly, before it dropped again around 1975. Around 1976 it started to increase again to above five percent. It maintained the level of about five percent until 1981, when the unemployment started to increase a lot and peaked at about 12 percent around 1985. A few years later it dropped again to about seven percent in 1991. The unemployment rate started to increase again to above 10 percent, before a long period of decline started. The decline lasted until around 2006, where the unemployment rate was about five percent. The unemployment rate then increased to above eight percent again and maintained this level until around 2014, when it started to decline. It has been declining since 2014 and in 2018 it was around four percent.</p>
</blockquote>
</div>
<div id="example-2" class="section level4 unnumbered">
<h4>Example 2:<a class="anchor" aria-label="anchor" href="#example-2"><i class="fas fa-link"></i></a>
</h4>
<blockquote>
<p>Figure <a href="describing-data.html#fig:desc1">12.1</a> shows the unemployment rate for the UK for the period 1971 to 2018 based on data from the ONS. The unemployment rate was lowest in the early 1970ies at about four percent, and highest in the mid 1980ies at about 12 percent. We can divide the period into three periods with high unemployment and two periods with low unemployment. High unemployment periods were the mid 1980ies, the early 1990ies, and around 2010. Low unemployment periods were the 1970ies as well as the end of the 1990s to the early 2000s. The last part of the chart, since about 2014, also show a sharply declining unemployment rate, suggesting that the current period will establish itself as another low unemployment period.</p>
</blockquote>
</div>
<div id="explaining-charts-dont-take-the-reader-on-a-roller-coaster-ride" class="section level4 unnumbered">
<h4>Explaining charts: Don’t take the reader on a roller coaster ride!<a class="anchor" aria-label="anchor" href="#explaining-charts-dont-take-the-reader-on-a-roller-coaster-ride"><i class="fas fa-link"></i></a>
</h4>
<p>So which description was best? Example 1 takes the reader through the chart from left to right. Example 2 summarizes some general patterns for the reader. Recall that we use charts to communicate patterns. It is not important that the unemployment rate declined slightly from 1972 to 1973. If that was the key point, we would provide the numbers for these two years in a Table. The goal of the chart is to show overall patterns. Moreover: it is much easier for the reader to remember the overall pattern.</p>
<p>When we guide the reader through a chart we should remember that we would like to communicate the patterns in the data, and not every up and down. A reader, who reads example 1 above will feel like an elevator: it goes up and down all the time, but it is difficult to understand the big picture and any general conclusions from the text.</p>
<p>Here are some tricks to explaining patterns:</p>
<ul>
<li>Explain patterns, not details.</li>
<li>Don’t take the reader on an elevator-tour and explain every up and down from left to right.</li>
<li>Focus on the endpoints. Has the value of interest been increasing or decreasing?</li>
<li>Group observations: For example group countries together with similar patterns.</li>
<li>Divide the chart into smaller parts: For example in periods of up and downturns.</li>
</ul>
</div>
<div id="explaining-tables" class="section level4 unnumbered">
<h4>Explaining tables<a class="anchor" aria-label="anchor" href="#explaining-tables"><i class="fas fa-link"></i></a>
</h4>
<p>We use tables to communicate precise values and often to compare values across groups. When guiding the reader through a table, we should have this in mind: Which values should the reader have in mind, and which comparisons should the reader make?</p>
<ul>
<li>What are the relevant values?</li>
<li>What are the relevant comparisons?</li>
</ul>
<p>In the rest of this chapter we discuss various tools that we can use to guide the reader through visualizations and also provide them with information that is difficult to grasp from the charts only. These tools should complement the visualization of data and not substitute the data visualizations. Some of these tools also involve transforming the data. In other words, to change the data in a way to better communicate the main takeaways.</p>
</div>
</div>
</div>
<div id="describing-differences" class="section level2" number="12.3">
<h2>
<span class="header-section-number">12.3</span> Describing differences<a class="anchor" aria-label="anchor" href="#describing-differences"><i class="fas fa-link"></i></a>
</h2>
<p>In this section we will go through various methods to describe differences. These differences could be differences across groups, for example the difference in the unemployment rate among men and women. Or it could be differences in terms of changes over time, for example the change in unemployment in the UK from October 2008 (6.2 percent) to October 2011 8.2 percent.</p>
<div id="differences-in-absolute-terms" class="section level3 unnumbered">
<h3>Differences in absolute terms<a class="anchor" aria-label="anchor" href="#differences-in-absolute-terms"><i class="fas fa-link"></i></a>
</h3>
<p>When we talk about “in absolute terms” we mean by itself without comparison to values or units. Examples are: changes in the UK Gross Domestic Product in pounds, increase in average age in years, changes in migration in the number of people, and changes in the unemployment rate in percentage points.</p>
<p>So when we talk about differences in absolute terms we should in principle always include the unit of measurement to avoid confusion: is the change in GDP in Pounds or Euros?, is the difference in the average age in years or months?</p>
<p>It is straightforward to compute the absolute change. We are simply subtracting one number from the other:</p>
<p><span class="math display">\[\begin{align}
  difference_{abs}=Value_2-Value_1
\end{align}\]</span></p>
<p>How would we use absolute changes? Consider Figure @ref{fig:desc2}, which uses the same data as Figure <a href="describing-data.html#fig:desc1">12.1</a>, but only shows the last 12 years. We might want to focus on the great recession and provide statements such as “the unemployment rate increased by 3.3 percentage points from pre-recession level to the peak level of 8.5 percent.” or the unemployment rate in October 2018 was 4.5 percentage points lower than at the peak of the great recession at a level of 4 percent.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:desc2"></span>
<img src="resources/chapter_describe/ex4.png" alt="Unemployment in the UK from 2006 to 2018. Source: The ONS with value labels. Source: The UK Office for National Statistics" width="80%"><p class="caption">
Figure 12.2: Unemployment in the UK from 2006 to 2018. Source: The ONS with value labels. Source: The UK Office for National Statistics
</p>
</div>
</div>
<div id="relative-differences" class="section level3 unnumbered">
<h3>Relative differences<a class="anchor" aria-label="anchor" href="#relative-differences"><i class="fas fa-link"></i></a>
</h3>
<p>The contrast to absolute changes is relative changes. With relative changes we are always <em>relating</em> the difference to something else. The most natural value to relate a change to is the point of departure of the difference. So if we are interested in the relative difference from year 1 to year 2, we would relate the size of the absolute difference from year 1 to year 2 to the value in year 2.</p>
<p>The relative change is typically measured in percent and calculated as follows:</p>
<p><span class="math display">\[\begin{align}
  difference_{rel}&amp;=100\times \frac{Value_2-Value_1}{Reference \text{ } Value}\nonumber\\
  difference_{rel}&amp;=100\times \frac{Value_2-Value_1}{Value_1}\nonumber
\end{align}\]</span></p>
<p>So let us consider the increase in the unemployment rate from 5.2 to 8.5 percent:</p>
<p><span class="math display">\[\begin{align}
    difference_{rel}=100\times \frac{8.5-5.2}{5.2}=63\%\nonumber
\end{align}\]</span></p>
<p>So the unemployment increased by 63 percent from pre crisis level to the crisis peak. What does that mean? It means that if we took the original level and considered 63 percent of that level and added that to the level, we would get to the peak level. In these terms, an increase of 100 percent corresponds to doubling the number.</p>
</div>
<div id="percentage-point-vs-percent" class="section level3 unnumbered">
<h3>Percentage point vs percent<a class="anchor" aria-label="anchor" href="#percentage-point-vs-percent"><i class="fas fa-link"></i></a>
</h3>
<p>Note that in the examples above, we mentioned “percentage point” and “percent”. So when we talk about absolute changes we are more explicit about the unit of measurement when the unit of measurement is percent. We say percentage points and not percent.</p>
<p>When unemployment increases from 4.2 to 6.2 percent, the change is 2 percentage points or 48 percent (100 <span class="math inline">\(\times\)</span> (6.2-4.2)/4.2). These are two very different numbers, but nevertheless you will often hear someone saying that unemployment has increased by 2 percent, when they mean 2 percentage points. A 2 percent increase would be an increase from 4.2 percent to 4.284 percent. In other words an increase of 0.084 percentage points.</p>
<ul>
<li><p>Percentage point change: Refers to the <em>absolute</em> change stated in the unit used, just like pounds, miles, or kilograms.</p></li>
<li><p>Percent change: Refers to the <em>relative</em> change stated in percent (out of 100).</p></li>
</ul>
</div>
</div>
<div id="calculating-compound-growth-rates" class="section level2" number="12.4">
<h2>
<span class="header-section-number">12.4</span> Calculating compound growth rates<a class="anchor" aria-label="anchor" href="#calculating-compound-growth-rates"><i class="fas fa-link"></i></a>
</h2>
<p>Another common mistake is ignoring the compound growth rate. Let’s illustrate the mistake by an extreme example. The price of a Bitcoin increased from 781 USD to 19,343 USD from December 16 2016 to December 16 2017. This is an increase of about 2,400 percent. What is the daily increase then? Let us take a very wrong approach: we just divide the total relative change by the number of days: <span class="math inline">\(2,400percent/365days\approx 6.5\)</span> percent/day? So the first day the price is 781 USD, the next day the price would then be <span class="math inline">\(781\times1.067=831\)</span> USD, the following day the price would be <span class="math inline">\(831\times1.067=885\)</span> and so on. If we continue like that, the price of Bitcoins would be above 20,000 USD by the end of February, and by the end of December the price would be 78,38,759,397,922 USD. This is clearly wrong. Figure <a href="describing-data.html#fig:desc3">12.3</a> illustrates how wrong.</p>
<p>What went wrong is that we’ve ignored that on the third day the growth rate is applied to the initial value plus the increase in value from day one to day two (the compound growth). If we instead applied the initial increase in absolute terms 365 times we would actually end up with the right value: <span class="math inline">\((831-781)\times 365 \approx 18,562\)</span> which exactly corresponds to the increase (18,562+781=19,434 USD).</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:desc3"></span>
<img src="resources/chapter_describe/bitcoin.png" alt="The development of the Bitcoin price, and imputed price using average daily price increases. Data source: [coindesk.com](https://www.coindesk.com/price/)" width="90%"><p class="caption">
Figure 12.3: The development of the Bitcoin price, and imputed price using average daily price increases. Data source: <a href="https://www.coindesk.com/price/">coindesk.com</a>
</p>
</div>
<p>How do we get the right average growth rate? If the price on December 16, 2016 was <span class="math inline">\(P_{t0}\)</span> then the price on December 17 2016 will be <span class="math inline">\(P_{t1}=P_{t0}\times (1+r)\)</span> where <span class="math inline">\(r\)</span> is the average daily increase in the price. On December 18 2016, the price will be <span class="math inline">\(P_{t2}=P_{t1}\times (1+r)\)</span> and so on. What happens after a year?</p>
<p><span class="math display">\[\begin{align}
  P_{t365}&amp;=P_{t364}\times (1+r)\nonumber\\
  \Rightarrow P_{t365}&amp;=P_{t363}\times (1+r)\times (1+r)\nonumber\\
  \Rightarrow P_{t365}&amp;=P_{t362}\times (1+r)\times (1+r)\times (1+r)\nonumber\\
  \vdots\nonumber\\
  \Rightarrow P_{t365}&amp;=P_{t0}\overbrace{\times(1+r)\times(1+r)\times\dots\times(1+r)}^{\text{number of periods, }n}\nonumber\\
  \Rightarrow P_{t365}&amp;=P_{t0}\times(1+r)^n\nonumber
\end{align}\]</span></p>
<p>We can now isolate <span class="math inline">\(r\)</span> to get an expression for the average daily growth:</p>
<p><span class="math display">\[\begin{align}
   P_{t365}&amp;=P_{t0}\times(1+r)^{365}\nonumber\\
   \Rightarrow
   (1+r)^365&amp;=\frac{P_{t365}}{P_{t0}}\nonumber\\
   (1+r)&amp;=\left(\frac{P_{t365}}{P_{t0}}\right)^{(1/365)}\nonumber\\
   r&amp;=\left(\frac{P_{t365}}{P_{t0}}\right)^{(1/365)}-1
\end{align}\]</span></p>
<p>or in more general terms:</p>
<p><span class="math display">\[\begin{align}
   r&amp;=\left(\frac{P_{N}}{P_{0}}\right)^{(1/N)}-1
\end{align}\]</span></p>
<p>where <span class="math inline">\(N\)</span> is the number of periods, e.g. seconds, minutes, hours, days or years.</p>
<p>We can use this formula whenever we want to obtain average growth rates from a total growth rate. The difference between the correct and the wrong way to calculate average growth is larger, the larger the total growth. Note that <span class="math inline">\(r\)</span> is the rate, which we have to multiply by 100 to get the average percentage growth.</p>
<div id="using-indexes" class="section level3 unnumbered">
<h3>Using indexes<a class="anchor" aria-label="anchor" href="#using-indexes"><i class="fas fa-link"></i></a>
</h3>
<p>When we are interested in the relative development of a value over time, we can index the series to a reference point. For annual time series, we typically select a base year, where the value is set to 100. All other values are set relative to this base year.</p>
<p>Imagine that we want to show the development of the population of a country over ten years. In the first year, the population is measured to be 5 million. We plot this as 100 in the graph. The next year, the index value should be calculated relative to the base year. If the population is 5.5 million the index value will be <span class="math inline">\((5.5/5.0)\times 100=110\)</span>, and so on. In general, we can use the following formula to calculate the index value.</p>
<p><span class="math display">\[\begin{align}
  \text{Index\_value}=100\times \frac{\text{Value}}{\text{Base Year Value}}
\end{align}\]</span></p>
<p>An index is very helpful if we want to compare the development of several variables, that have very different scales. For example if we want to compare the development of the population of Wales with the development of the population of England. The index will tell us how the variable has developed <em>relative</em> to the reference point. Therefore, even though the population of England is much greater than the population of Wales, we can show the development in the same graph, because we are looking at the development relative to the reference point, and <em>not the levels</em>.</p>
</div>
</div>
<div id="decomposing-changes" class="section level2" number="12.5">
<h2>
<span class="header-section-number">12.5</span> Decomposing changes<a class="anchor" aria-label="anchor" href="#decomposing-changes"><i class="fas fa-link"></i></a>
</h2>
<p>Describing in terms of their relative size or average relative size can provide good guidance for the reader. There are, however, several ways to dig one level deeper and provide more insights not only on the size of the change, but also on the mechanisms behind observed growth. One useful approach to improve our understanding of a change in a variable is to decompose the change keeping one aspect of change constant. This approach is actually very simple. Let us start with an example.</p>
<p>Imagine that we observe, that the number of children born in the UK is decreasing (that is our <span class="math inline">\(X\)</span>). The number of children born is a function of the number of children born per woman, also known as the General Fertility Rate (GFR). We denote the number of women (that is <span class="math inline">\(Y\)</span>), such that the general fertility rate is <span class="math inline">\(X/Y\)</span>, the number of children born per woman. Let now write down the change in the number of children born from period 0 to period 1:</p>
<p><span class="math display">\[\begin{align}
   X_1-X_0=Y_1\frac{X_1}{Y_1}-Y_0\frac{X_0}{Y_0}
\end{align}\]</span></p>
<p>Now let’s do some trivial and silly adding and subtraction. First, add and subtract the term <span class="math inline">\(Y_0\frac{X_1}{Y_1}\)</span> and rearrange:</p>
<p><span class="math display">\[\begin{align}
   X_1-X_0=&amp;Y_1\frac{X_1}{Y_1}-Y_0\frac{X_0}{Y_0}+Y_0\frac{X_1}{Y_1}-Y_0\frac{X_1}{Y_1}\nonumber\\
        =&amp;Y_1\frac{X_1}{Y_1}-Y_0\frac{X_0}{Y_0}+Y_0\frac{X_1}{Y_1}-Y_0\frac{X_1}{Y_1}\nonumber\\
        =&amp;\overbrace{Y_0\left(\frac{X_1}{Y_1}-\frac{X_0}{Y_0}\right)}^{\text{A}}+\overbrace{(Y_1-Y_0)\frac{X_1}{Y_1}}^{\text{B}}\nonumber
\end{align}\]</span></p>
<p>The first term of this expression (A) is the change in <span class="math inline">\(X\)</span> if <span class="math inline">\(Y\)</span> stayed constant at the initial level, but the rate <span class="math inline">\(X/Y\)</span> changed. In terms of our births example above, this expression gives us the change in births if the number of women stays constant, but the fertility rate changes. The second term above gives us the opposite. What would the change in births be if we kept the fertility rate constant, but changed the number of women in the population? So with this simple exercise we can decompose a change in <span class="math inline">\(X\)</span> into the changes in two underlying factors. However, there is one problem with this equation. We are keeping <span class="math inline">\(Y\)</span> constant at the initial level and the ratio <span class="math inline">\(X/Y\)</span> constant at the new level. Could we somehow keep both constant at the initial level? Yes. Let us add and subtract <span class="math inline">\((Y_1-Y_0)\frac{X_0}{Y_0}\)</span>:</p>
<p><span class="math display">\[\begin{align}
   X_1-X_0=&amp;Y_0\left(\frac{X_1}{Y_1}-\frac{X_0}{Y_0}\right)+(Y_1-Y_0)\frac{X_1}{Y_1}+(Y_1-Y_0)\frac{X_0}{Y_0}-(Y_1-Y_0)\frac{X_0}{Y_0}\nonumber\\
&amp;=\overbrace{Y_0\left(\frac{X_1}{Y_1}-\frac{X_0}{Y_0}\right)}^{A}+\overbrace{\left(Y_1-Y_0\right)\frac{X_0}{Y_0}}^{B}+
  \overbrace{\left(\frac{X_1}{Y_1}-\frac{X_0}{Y_0}\right)\left(Y_1-Y_0\right)}^{C}
\end{align}\]</span></p>
<p>By adding and subtracting terms, we now have an expression for the change in <span class="math inline">\(X\)</span> based on three terms.</p>
<ul>
<li>Term A is as before: The change in X as a result of keeping <span class="math inline">\(Y\)</span> constant at the initial level, but changing the ratio <span class="math inline">\(X/Y\)</span>
</li>
<li>Term B is as new: The change in X as a result of keeping the ratio <span class="math inline">\(X/Y\)</span> constant at the initial level, but changing <span class="math inline">\(Y\)</span>.</li>
<li>The term C is new: A composite effect. This term captures the effect that a different level of <span class="math inline">\(Y\)</span> is exposed to a different level <span class="math inline">\(X/Y\)</span>.</li>
</ul>
<p>Why is this helpful? By decomposing changes we can make statements such as: “The number of live births did not only increase because fertility increased, but also because the number of women in childbearing ages increased.” Another area where decompositions are often used is in labor supply. The total labor supply in the number of hours is a function of the number of people working, and how many hours these people work. We could for example imagine, that we observe a drop in labor supply, without observing any changes in the number of people working, simply because people start working less.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Prithwis Das Gupta, &lt;span&gt;“Standardization and Decomposition of Rates: A User’s Manual,”&lt;/span&gt; &lt;em&gt;&lt;span&gt;U.S. Department of Commerce&lt;/span&gt;&lt;/em&gt;, 1993.&lt;/p&gt;"><sup>30</sup></a></span> provides more details on how to decompose changes, including how to recompose changes of variables with more than two underlying factors.</p>
</div>
<div id="removing-noise" class="section level2" number="12.6">
<h2>
<span class="header-section-number">12.6</span> Removing noise<a class="anchor" aria-label="anchor" href="#removing-noise"><i class="fas fa-link"></i></a>
</h2>
<p>Figure <a href="describing-data.html#fig:desc4">12.4</a> shows the monthly unemployment for the UK, just like Figures <a href="describing-data.html#fig:desc1">12.1</a> and <a href="describing-data.html#fig:desc2">12.2</a>. But the chart in Figure <a href="describing-data.html#fig:desc4">12.4</a> looks different, it fluctuates much more. The key difference is that while Figures <a href="describing-data.html#fig:desc1">12.1</a> and <a href="describing-data.html#fig:desc2">12.2</a> were seasonally adjusted, Figure <a href="describing-data.html#fig:desc4">12.4</a> shows the “raw” unadjusted unemployment rate.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:desc4"></span>
<img src="resources/chapter_describe/ex2_1.png" alt="Monthly unemployment in the United Kingdom. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate. Not seasonally adjusted. Y-Axis truncated at 4 percent." width="90%"><p class="caption">
Figure 12.4: Monthly unemployment in the United Kingdom. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate. Not seasonally adjusted. Y-Axis truncated at 4 percent.
</p>
</div>
<p>What does seasonally adjusted mean? Many aspects of the economy have seasons. Private consumption is for example often very high in December, there are relatively few people starting new jobs in the summer months, and so on. When looking at changes in unemployment from month to month we are often not interested in the changes that are caused by changes in seasons.</p>
<p>Statistical agencies have developed very sophisticated methods for identifying and removing seasonal effects. It is typically possible to directly obtain the seasonally adjusted series directly from the statistical offices. So often, we won’t have to seasonally adjust our series manually. Nevertheless, it is important to understand the intuition behind seasonal adjustments. We will therefore go through a simplified version the seasonal adjustment procedure, which we can apply to our own data.</p>
<div id="moving-averages" class="section level3 unnumbered">
<h3>Moving averages<a class="anchor" aria-label="anchor" href="#moving-averages"><i class="fas fa-link"></i></a>
</h3>
<p>Before we turn to the seasonal adjustment algorithm, let us consider the simple, but powerful concept of a moving average. Moving averages can be useful in itself, but they are also useful on their own. In Figure <a href="describing-data.html#fig:desc4">12.4</a> we use data from the Organisation for Economic Cooperation and Development (OECD). As you can see from this graph, the unemployment rate fluctuates a lot from month to month. However, often we want to ignore these fluctuations that are caused by seasonality. What can we do? If you took a pen, you could draw a smooth line over Figure <a href="describing-data.html#fig:desc4">12.4</a> and you would have a line that would be much more readable. How can we obtain the same in a more formal approach?</p>
<p>In Figure <a href="describing-data.html#fig:desc5">12.5</a> we added the <em>moving average</em> of the series shown in Figure <a href="describing-data.html#fig:desc4">12.4</a>. With a moving average we compute averages of unemployment rates across five months and then move one month ahead and do the same and so on. In other words the shown unemployment rate in May is the average of the unemployment rate for March, April, May (center), June, and July. In that way we obtain a much more smooth unemployment rate, as the blue line. The moving average of the variable is then defined as:</p>
<p><span class="math display">\[\begin{align}
    ma_{5}(x)=\frac{x_{-2}+x_{-1}+x_{0}+x_{+1}+x_{+2}}{5}
  \end{align}\]</span>
\begin{figure}[!ht]</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:desc5"></span>
<img src="resources/chapter_describe/ex2_2.png" alt="Monthly unemployment in the United Kingdom. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate.  Y-Axis truncated at 4 percent." width="90%"><p class="caption">
Figure 12.5: Monthly unemployment in the United Kingdom. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate. Y-Axis truncated at 4 percent.
</p>
</div>
<p>It will often be “sufficient” just to apply the moving average to a time-series. The moving average removes a lot of short-run fluctuations. However, we might actually have removed too much. That is why we need a more formal approach to cleaning the series.</p>
</div>
<div id="seasonally-adjustment" class="section level3 unnumbered">
<h3>Seasonally adjustment<a class="anchor" aria-label="anchor" href="#seasonally-adjustment"><i class="fas fa-link"></i></a>
</h3>
<div id="decomposing-a-series" class="section level4 unnumbered">
<h4>Decomposing a series<a class="anchor" aria-label="anchor" href="#decomposing-a-series"><i class="fas fa-link"></i></a>
</h4>
<p>Let us now consider the idea of identifying and removing seasonal effects. Let us assume that we can write the data series in additive terms, as follows:</p>
<p><span class="math display">\[\begin{align}
  Y_t=S_t+T_t+E_t
\end{align}\]</span></p>
<ul>
<li>The seasonal component <span class="math inline">\(S\)</span>
</li>
<li>The trend component <span class="math inline">\(T\)</span>
</li>
<li>The error component <span class="math inline">\(E\)</span>
</li>
</ul>
<p>where <span class="math inline">\(Y_t\)</span> is the aggregate raw series, <span class="math inline">\(S_t\)</span> is the seasonal component, <span class="math inline">\(T_t\)</span> is the trend component and <span class="math inline">\(E_t\)</span> is the irregular (or error) component.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Note that it is common to also include &lt;span class="math inline"&gt;\(C_t\)&lt;/span&gt;, a cyclical component.&lt;/p&gt;'><sup>31</sup></a> We want to remove <span class="math inline">\(S_t\)</span> from the series. Before we move on, we should note that we assumed that an <em>additive</em> decomposition was reasonable. It could also be the case that the terms should be included <em>multiplicatively</em>. If for example the size of the seasonal component depends on the trend level, a multiplicative specification would be more appropriate.</p>
<p>Our goal is now to identify the seasonal effect and remove the seasonal effect from the original series. Most statistical offices apply advanced algorithms called X11ARIMA or X12ARIMA to identify the seasonal term. For this unit there is no need to understand the details behind these algorithms, but you should understand the intuition behind the X11 algorithm, which is the backbone of many advanced algorithms. The point of departure for the X11-algorithm is the moving average. Let us now go through a simplified explanation of the X11-algorithm.</p>
</div>
<div id="step-1-identify-the-trend-level" class="section level4 unnumbered">
<h4>Step 1: Identify the trend level<a class="anchor" aria-label="anchor" href="#step-1-identify-the-trend-level"><i class="fas fa-link"></i></a>
</h4>
<p>The first step of the X11-algorithm is to identify the trend level. We do that by removing the seasonal term and the error term (and the cyclical term) from the original series by means of a moving average, this leaves us with the trend level. So the blue series in Figure <a href="describing-data.html#fig:desc5">12.5</a> correspond to <span class="math inline">\(T_t\)</span> in the decomposition equation above.</p>
</div>
<div id="step-2-subtract-the-trend-level-from-the-raw-series-to-obtain-a-series-containing-the-seasonal-and-irregular-components." class="section level4 unnumbered">
<h4>Step 2: Subtract the trend level from the raw series to obtain a series containing the seasonal and irregular components.<a class="anchor" aria-label="anchor" href="#step-2-subtract-the-trend-level-from-the-raw-series-to-obtain-a-series-containing-the-seasonal-and-irregular-components."><i class="fas fa-link"></i></a>
</h4>
<p>We now have two series. We have the original series <span class="math inline">\(Y_t\)</span> and the trend series <span class="math inline">\(T_t\)</span>. If we subtract <span class="math inline">\(T_t\)</span> from <span class="math inline">\(Y_t\)</span> we get a series that contains the seasonal term and the error term. Applying this to the unemployment series from Figure @ref{fig:desc4} leads to the series shown in Figure <a href="describing-data.html#fig:desc6">12.6</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:desc6"></span>
<img src="resources/chapter_describe/ex2_4.png" alt="The residual series: The raw unemployment rate minus the five month moving average. November and December are marked with red. Green crosses show the three period moving average of the December residual. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate." width="90%"><p class="caption">
Figure 12.6: The residual series: The raw unemployment rate minus the five month moving average. November and December are marked with red. Green crosses show the three period moving average of the December residual. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate.
</p>
</div>
</div>
<div id="step-3-apply-the-moving-for-each-reoccurring-period-to-obtain-estimates-of-the-seasonal-component-of-that-period." class="section level4 unnumbered">
<h4>Step 3: Apply the moving for each reoccurring period to obtain estimates of the seasonal component of that period.<a class="anchor" aria-label="anchor" href="#step-3-apply-the-moving-for-each-reoccurring-period-to-obtain-estimates-of-the-seasonal-component-of-that-period."><i class="fas fa-link"></i></a>
</h4>
<p>The residual series shown in Figure <a href="describing-data.html#fig:desc6">12.6</a> includes both the seasonal effect and the error component. How can we remove the seasonal effect? Seasonal effects are effects that occur because of the specific season. So it is an “effect” that happens every December or every July. In other words, we would like to identify the effect that is common across the Decembers and Julys in our series. As each December or July also include the error components, we apply a new average but this time only across the specific months. The green crosses in Figure <a href="describing-data.html#fig:desc4">12.4</a> show the three period moving average of the residual. The moving averages are our estimates of the seasonal component for December. We can do this for all months to obtain a series of estimates of the monthly seasonal component.</p>
</div>
<div id="step-4-subtract-the-seasonal-components-from-the-raw-data-to-obtain-a-first-estimate-of-the-seasonally-adjusted-series." class="section level4 unnumbered">
<h4>Step 4: Subtract the seasonal components from the raw data to obtain a first estimate of the seasonally adjusted series.<a class="anchor" aria-label="anchor" href="#step-4-subtract-the-seasonal-components-from-the-raw-data-to-obtain-a-first-estimate-of-the-seasonally-adjusted-series."><i class="fas fa-link"></i></a>
</h4>
<p>We are now ready to obtain a first estimate of the seasonally adjusted unemployment rate by taking the raw series and subtracting our series of estimated monthly seasonal components.</p>
</div>
<div id="step-5-repeat" class="section level4 unnumbered">
<h4>Step 5: Repeat!<a class="anchor" aria-label="anchor" href="#step-5-repeat"><i class="fas fa-link"></i></a>
</h4>
<p>We are not done yet, in fact we will apply the same procedure again, at least once. Moreover it is also very common to use weighted moving averages (Such as the Henderson Filter) to obtain estimates of the moving averages. In the example above we used a five period moving average for the first step, and 3 period moving averages for the second step. Most statistical agencies apply moving averages of the length corresponding to the frequency of the seasonal component, that is, for a quarterly series we will apply a four period moving average and for a monthly series we will apply a twelve period moving average.</p>
</div>
<div id="the-resulting-seasonally-adjusted-series" class="section level4 unnumbered">
<h4>The resulting seasonally adjusted series<a class="anchor" aria-label="anchor" href="#the-resulting-seasonally-adjusted-series"><i class="fas fa-link"></i></a>
</h4>
<p>Figure <a href="describing-data.html#fig:desc7">12.7</a> adds the seasonally adjusted unemployment rate from the OECD data to the graph. Note that the seasonally adjusted line is more smooth than the raw data, but less smooth than the moving average.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:desc7"></span>
<img src="resources/chapter_describe/ex2_3.png" alt="Monthly unemployment in the United Kingdom. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate.  Y-Axis truncated at 4 percent." width="90%"><p class="caption">
Figure 12.7: Monthly unemployment in the United Kingdom. Source: OECD, Short-Term Labour Market Statistics, Harmonised Unemployment rate. Y-Axis truncated at 4 percent.
</p>
</div>
<p>The X11 algorithm was introduced by the US Bureau of the Census. It is still used by many statistical offices, although newer and more advanced methods are also in use today. One extension is the X11 ARIMA, which uses an Auto Regressive Moving Average to predict beyond the start and end of the time series, which is necessary to compute moving averages.</p>
</div>
</div>
</div>
<div id="data-processing" class="section level2" number="12.7">
<h2>
<span class="header-section-number">12.7</span> Data processing<a class="anchor" aria-label="anchor" href="#data-processing"><i class="fas fa-link"></i></a>
</h2>
<p>When we talk about working with data we often talk about processing data, cleaning data, and tidying data. A recommended work-flow is as follows:</p>
<ol style="list-style-type: decimal">
<li><p>Obtain the raw file and save it (in a separate document, worksheet etc).</p></li>
<li>
<p>Process the data (clean the data).</p>
<ul>
<li>Check whether all variables have titles, labels. etc.</li>
<li>Check for obviously erroneous values.</li>
<li>Make sure the data follows the tidy data principle.</li>
<li>Create new variables based on the existing variables (sometimes also done in step 3).</li>
</ul>
</li>
<li><p>Analyze and visualize the data.</p></li>
</ol>
</div>
<div id="summary-2" class="section level2" number="12.8">
<h2>
<span class="header-section-number">12.8</span> Summary<a class="anchor" aria-label="anchor" href="#summary-2"><i class="fas fa-link"></i></a>
</h2>
<p>In this chapter we covered the following topics</p>
<ul>
<li>How to describe graphs and tables.</li>
<li>Describing differences in terms of absolute and relative changes.</li>
<li>Computing average growth rates.</li>
</ul>
<p><span class="math display">\[\begin{align}
   r&amp;=\left(\frac{P_{tN}}{P_{t0}}\right)^{(1/N)}-1\nonumber
\end{align}\]</span></p>
<ul>
<li>
<p>Decomposing changes</p>
<p><span class="math display">\[\begin{align}
\Delta X=Y_0\left(\frac{X_1}{Y_1}-\frac{X_0}{Y_0}\right)+\left(Y_1-Y_0\right)\frac{X_0}{Y_0}+
\left(\frac{X_1}{Y_1}-\frac{X_0}{Y_0}\right)\left(Y_1-Y_0\right)\nonumber
\end{align}\]</span></p>
</li>
<li><p>Creating and using an index.</p></li>
<li><p>Removing noise.</p></li>
</ul>
</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="how-data-is-stored.html"><span class="header-section-number">11</span> How data is stored</a></div>
<div class="next"><a href="data-visualization-basics.html"><span class="header-section-number">13</span> Data visualization basics</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#describing-data"><span class="header-section-number">12</span> Describing Data</a></li>
<li>
<a class="nav-link" href="#what-this-chapter-is-about-8"><span class="header-section-number">12.1</span> What this chapter is about</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#intended-learning-outcomes-8">Intended learning outcomes</a></li></ul>
</li>
<li>
<a class="nav-link" href="#the-objective-guide-the-reader"><span class="header-section-number">12.2</span> The objective: Guide the reader</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#how-to-guide-the-reader">How to guide the reader</a></li></ul>
</li>
<li>
<a class="nav-link" href="#describing-differences"><span class="header-section-number">12.3</span> Describing differences</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#differences-in-absolute-terms">Differences in absolute terms</a></li>
<li><a class="nav-link" href="#relative-differences">Relative differences</a></li>
<li><a class="nav-link" href="#percentage-point-vs-percent">Percentage point vs percent</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#calculating-compound-growth-rates"><span class="header-section-number">12.4</span> Calculating compound growth rates</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#using-indexes">Using indexes</a></li></ul>
</li>
<li><a class="nav-link" href="#decomposing-changes"><span class="header-section-number">12.5</span> Decomposing changes</a></li>
<li>
<a class="nav-link" href="#removing-noise"><span class="header-section-number">12.6</span> Removing noise</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#moving-averages">Moving averages</a></li>
<li><a class="nav-link" href="#seasonally-adjustment">Seasonally adjustment</a></li>
</ul>
</li>
<li><a class="nav-link" href="#data-processing"><span class="header-section-number">12.7</span> Data processing</a></li>
<li><a class="nav-link" href="#summary-2"><span class="header-section-number">12.8</span> Summary</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introduction to Economic Data</strong>" was written by Hans Henrik Sievertsen. It was last built on 2022-10-03.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
